<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>🎰 Blackjack Casino Game</title>
  
  <!-- Google Font -->
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@500&display=swap" rel="stylesheet">
  
  <!-- CSS Styling -->
  <style>
    body {
      background: url("/static/images/Table casino roulette animation.jpeg") no-repeat center center fixed;
      background-size: cover;
      font-family: 'Poppins', sans-serif;
      color: #fff;
      text-align: center;
      margin: 0;
      padding: 0;
      overflow-x: hidden;
      position: relative;
    }

    body::before {
      content: "";
      position: absolute;
      top: 0; left: 0;
      width: 100%; height: 100%;
      background: rgba(0, 0, 0, 0.65);
      backdrop-filter: blur(3px);
      z-index: -1;
    }

    h1 {
      font-size: 48px;
      color: gold;
      text-shadow: 0 0 20px rgba(255, 215, 0, 0.7);
      margin-top: 30px;
    }

    .game-container {
      margin-top: 40px;
      background: rgba(0, 0, 0, 0.8);
      display: inline-block;
      padding: 40px 50px;
      border-radius: 25px;
      box-shadow: 0 0 40px rgba(255, 215, 0, 0.4);
      border: 2px solid gold;
      backdrop-filter: blur(6px);
      animation: fadeIn 1.5s ease;
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(30px); }
      to { opacity: 1; transform: translateY(0); }
    }

    .hand {
      display: flex;
      justify-content: center;
      gap: 15px;
      flex-wrap: wrap;
      margin: 15px 0;
    }

    .card {
      width: 80px;
      height: 110px;
      background: white;
      color: black;
      border-radius: 10px;
      box-shadow: 0 0 10px rgba(255,255,255,0.5);
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: bold;
      font-size: 22px;
      transition: all 0.3s ease;
    }

    .card:hover {
      transform: scale(1.1);
    }

    button {
      background: linear-gradient(45deg, #00ff99, #0066ff);
      color: white;
      border: none;
      padding: 14px 30px;
      border-radius: 12px;
      margin: 15px;
      font-size: 20px;
      cursor: pointer;
      font-weight: bold;
      box-shadow: 0 0 10px #00ff99;
      transition: all 0.3s ease;
    }

    button:hover {
      transform: scale(1.1);
      box-shadow: 0 0 20px #00ff99;
    }

    .section h2 {
      color: gold;
      text-shadow: 0 0 15px rgba(255, 215, 0, 0.6);
    }

    footer {
      margin-top: 40px;
      font-size: 14px;
      color: #ccc;
      background: rgba(0, 0, 0, 0.7);
      padding: 15px 0;
      width: 100%;
      text-align: center;
    }

    footer a {
      color: gold;
      text-decoration: none;
    }

    footer a:hover {
      text-decoration: underline;
    }

    details.instructions {
      background: rgba(0, 0, 0, 0.7);
      border: 1px solid gold;
      border-radius: 10px;
      color: white;
      width: 60%;
      margin: 40px auto;
      text-align: left;
      padding: 15px 25px;
      backdrop-filter: blur(4px);
    }

    details summary {
      cursor: pointer;
      font-size: 1.3rem;
      font-weight: bold;
      color: gold;
    }

    details ul {
      list-style-type: none;
      padding-left: 15px;
    }

    details li {
      margin: 5px 0;
    }

  </style>
</head>

<body>

  <h1>🎰 Blackjack Casino Game 🎲</h1>

  <div class="game-container">
    <!-- Player Section -->
    <div class="section">
      <h2>Your Hand:</h2>
      <div id="player-hand" class="hand"></div>
      <p id="player-score">Score: 0</p>
    </div>

    <!-- Dealer Section -->
    <div class="section">
      <h2>Dealer’s Hand:</h2>
      <div id="dealer-hand" class="hand"></div>
      <p id="dealer-score">Score: 0</p>
    </div>

    <!-- Buttons -->
    <div class="buttons">
      <button onclick="hit()">Hit</button>
      <button onclick="stand()">Stand</button>
      <button onclick="restart()">Restart</button>
    </div>

    <h2 id="result"></h2>
  </div>

  <!-- Instructions -->
  <details class="instructions">
    <summary>📘 How to Play Blackjack</summary>
    <ul>
      <li>🎯 Goal: Get as close to 21 as possible without going over.</li>
      <li>🂡 Aces count as 1 or 11.</li>
      <li>🂱 Face cards (J, Q, K) are worth 10.</li>
      <li>🎲 Start with 2 cards — “Hit” to draw another, or “Stand” to stop.</li>
      <li>🏦 Dealer must hit until reaching 17.</li>
      <li>💥 If your score exceeds 21, you bust!</li>
      <li>🏆 Closest to 21 without busting wins!</li>
    </ul>
  </details>

  <footer>
    <p>Built with ❤️ by <strong>Gunjan Bagga</strong> | <a href="https://github.com/Poet19/blackjack-casino-game" target="_blank">GitHub Repo</a></p>
  </footer>

  <!-- Embedded JS -->
  <script>
    let playerCards = [];
    let dealerCards = [];
    let deck = [];
    let gameOver = false;

    const ranks = ["A", "2", "3", "4", "5", "6", "7", "8", "9", "10", "J", "Q", "K"];
    const suits = ["♠", "♥", "♦", "♣"];
    const cardValues = {
      "A": 11, "2": 2, "3": 3, "4": 4, "5": 5, "6": 6,
      "7": 7, "8": 8, "9": 9, "10": 10, "J": 10, "Q": 10, "K": 10
    };

    function createDeck() {
      deck = [];
      suits.forEach(suit => {
        ranks.forEach(rank => {
          deck.push({ rank, suit, value: cardValues[rank] });
        });
      });
      deck.sort(() => Math.random() - 0.5);
    }

    function dealInitialCards() {
      playerCards = [deck.pop(), deck.pop()];
      dealerCards = [deck.pop(), deck.pop()];
      updateUI();
    }

    function calculateScore(cards) {
      let total = cards.reduce((sum, card) => sum + card.value, 0);
      let aces = cards.filter(card => card.rank === "A").length;
      while (total > 21 && aces > 0) {
        total -= 10;
        aces--;
      }
      return total;
    }

    function updateUI() {
      renderCards("player-hand", playerCards);
      renderCards("dealer-hand", dealerCards);
      document.getElementById("player-score").innerText = "Score: " + calculateScore(playerCards);
      document.getElementById("dealer-score").innerText = "Score: " + calculateScore(dealerCards);
    }

    function renderCards(containerId, cards) {
      const container = document.getElementById(containerId);
      container.innerHTML = "";
      cards.forEach(card => {
        const div = document.createElement("div");
        div.classList.add("card");
        div.innerText = `${card.rank}${card.suit}`;
        container.appendChild(div);
      });
    }

    function hit() {
      if (gameOver) return;
      playerCards.push(deck.pop());
      updateUI();

      if (calculateScore(playerCards) > 21) {
        document.getElementById("result").innerText = "💥 You Busted! Dealer Wins!";
        gameOver = true;
      }
    }

    function stand() {
      if (gameOver) return;

      while (calculateScore(dealerCards) < 17) {
        dealerCards.push(deck.pop());
      }
      updateUI();

      const playerScore = calculateScore(playerCards);
      const dealerScore = calculateScore(dealerCards);

      let resultText = "";
      if (dealerScore > 21 || playerScore > dealerScore) {
        resultText = "🎉 You Win!";
      } else if (playerScore < dealerScore) {
        resultText = "😞 Dealer Wins!";
      } else {
        resultText = "🤝 It's a Tie!";
      }

      document.getElementById("result").innerText = resultText;
      gameOver = true;
    }

    function restart() {
      createDeck();
      gameOver = false;
      document.getElementById("result").innerText = "";
      dealInitialCards();
    }

    createDeck();
    dealInitialCards();
  </script>
</body>
</html>
